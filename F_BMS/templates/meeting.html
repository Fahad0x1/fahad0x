{% extends "base.html" %}
{% block content %}
<div class="container mt-4">
  <h2>๐ ุญุฌูุฒุงุช ุงูุบุฑู</h2>
  <form method="POST" class="mb-4">
    <div class="mb-2">
      <label>ุงูุบุฑูุฉ</label>
      <select name="room" class="form-control">
        <option value="Conference Room">Conference Room</option>
        <option value="Meeting Room">Meeting Room</option>
      </select>
    </div>
    <div class="mb-2">
      <label>ุงูุนููุงู</label>
      <input type="text" name="title" class="form-control" required>
    </div>
    <div class="mb-2">
      <label>ุงูุญุงุฌุฒ</label>
      <input type="text" name="reserved_by" class="form-control" required>
    </div>
    <div class="mb-2">
      <label>ูู</label>
      <input type="datetime-local" name="start_time" class="form-control" required>
    </div>
    <div class="mb-2">
      <label>ุฅูู</label>
      <input type="datetime-local" name="end_time" class="form-control" required>
    </div>
    <div class="mb-2">
      <label>ุงูุชูุฑุงุฑ</label>
      <select name="repeat" class="form-control">
        <option value="none">ุจุฏูู</option>
        <option value="daily">ูููู</option>
        <option value="weekly">ุฃุณุจูุนู</option>
      </select>
    </div>
    <div class="mb-2">
      <label>ุญุชู ุชุงุฑูุฎ (ูู ุญุงูุฉ ุงูุชูุฑุงุฑ)</label>
      <input type="datetime-local" name="repeat_until" class="form-control">
    </div>
    <button type="submit" class="btn btn-primary">ุฅุถุงูุฉ</button>
  </form>

  <h3>๐ ูุงุฆูุฉ ุงูุญุฌูุฒุงุช</h3>
  <table class="table table-striped">
    <thead>
      <tr>
        <th>ุงูุบุฑูุฉ</th>
        <th>ุงูุนููุงู</th>
        <th>ุงูุญุงุฌุฒ</th>
        <th>ูู</th>
        <th>ุฅูู</th>
        <th>ุฅุฌุฑุงุกุงุช</th>
      </tr>
    </thead>
    <tbody>
      {% for r in reservations %}
      <tr>
        <td>{{ r.room }}</td>
        <td>{{ r.title }}</td>
        <td>{{ r.reserved_by }}</td>
        <td>{{ r.start_time }}</td>
        <td>{{ r.end_time }}</td>
        <td>
          <a href="{{ url_for('edit_reservation', id=r.id) }}" class="btn btn-sm btn-info">โ๏ธ ุชุนุฏูู</a>
          <form method="POST" action="{{ url_for('delete_reservation', id=r.id) }}" style="display:inline">
            <button class="btn btn-sm btn-danger">๐๏ธ ุญุฐู</button>
          </form>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
